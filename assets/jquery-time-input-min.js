!function(t){t.fn.initTimeInput=function(){let e=(t,e,a)=>e>t.length-1?t:t.substring(0,e)+a+t.substring(e+1),a=(a,n,s)=>{let{key:i,which:r}=s,l=2===n?n+1:n,c=/^\d+$/.test(i)?i:String.fromCharCode(r),u=e(t(a).val(),l,c);t(a).val(u),a.setSelectionRange(l+1,l+1)},n=(t,e,a)=>{let n=(()=>{switch(a.which){case 37:return 3===e?e-1:e;case 39:return 1===e?e+1:Math.min(4,e);default:return e}})();t.setSelectionRange(n,n)},s=e=>{let a={start:e.selectionStart,end:e.selectionEnd};a.start===a.end&&(a.start=Math.max(0,a.start-1),a.end=5);let n=t(e).val(),s=n.substring(a.start,a.end).replace(/[0-9]/g,"_"),i=n.substring(0,a.start)+s;t(e).val(i),e.setSelectionRange(a.start,a.start)},i=t=>{let e={isBackspace:8===t.which,isArrow:[35,37,39,36].includes(t.which),isNumber:t.which>=48&&t.which<=57||/^\d$/.test(t.key),isCopyPaste:(t.ctrlKey||t.metaKey)&&[67,86].includes(t.which),isSelectAll:(t.ctrlKey||t.metaKey)&&65===t.which};return e},r=(t,e)=>{let{isArrow:r,isBackspace:l,isNumber:c,isCopyPaste:u,isSelectAll:o}=i(e);if(u||o)return!0;let h=t.selectionStart;switch(r||e.preventDefault(),!0){case l:return s(t);case r:return n(t,h,e);case c:return a(t,h,e);default:return}},l=e=>{let a=!0,n=t(e).val(),s=/^\d{2}:\d{2}$/;if(s.test(n)&&/^\d{2}:[0-5]{1}\d$/.test(n)){let[i,r]=n.split(":").map(Number);i>=(parseInt(t(e).data("maxhours"))||24)&&r>0&&(t(e).val("__:__").focus(),a=!1)}else s.test(n)&&(t(e).val("__:__").focus(),a=!1);return a},c=(t,e)=>{let a=t.match(/^\d{2}:[0-5]{1}\d$/);return a?a[0]:e};return t(this).attr("max-length",5).css({"letter-spacing":"5px","text-align":"center",width:"100px"}),l(this),this.each(function(){t(this).on({keydown:function(t){r(this,t)},focus:function(t){this.setSelectionRange(0,0)},"drop dragstart paste copy":function(e){if(clipboardData=e.originalEvent?.clipboardData||e.clipboardData||window.clipboardData,"paste"==e.type){let a=clipboardData?.getData("text")||"";t(this).val(c(a,"__:__")).focus()}else if("copy"==e.type){let n=window.getSelection().toString().replace(/\u200B/g,""),s=c(n,"");if(clipboardData.setData("text/html",s),s)return}e.stopPropagation(),e.preventDefault()},blur:function(t){if(!l(this)){let e=new CustomEvent("invalidTime",{detail:{message:"Invalid time entered"},bubbles:!0,cancelable:!0});this.dispatchEvent(e)}}})})}}(jQuery);