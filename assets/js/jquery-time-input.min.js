!function(t){let e="__:__";t.fn.initTimeInput=function(){let a=(t,e,a)=>e>t.length-1?t:t.substring(0,e)+a+t.substring(e+1),s=(e,s,i)=>{let{key:n,which:l}=i,r=2===s?s+1:s,c=/^\d+$/.test(n)?n:String.fromCharCode(l),u=a(t(e).val(),r,c);t(e).val(u),e.setSelectionRange(r+1,r+1)},i=(t,e,a)=>{let s=(()=>{switch(a.which){case 37:return 3===e?e-1:e;case 39:return 1===e?e+1:Math.min(4,e);default:return e}})();t.setSelectionRange(s,s)},n=(a,s)=>{if(s.ctrlKey||s.metaKey)t(a).val(e).focus();else{let i={start:a.selectionStart,end:a.selectionEnd};i.start===i.end&&(i.start=Math.max(0,i.start-1),i.end=5);let n=t(a).val(),l=n.substring(i.start,i.end).replace(/[0-9]/g,"_"),r=n.substring(0,i.start)+l;t(a).val(r),a.setSelectionRange(i.start,i.start)}},l=t=>{let e={isBackspace:8===t.which,isArrow:[35,37,39,36].includes(t.which),isNumber:t.which>=48&&t.which<=57||/^\d$/.test(t.key),isCopyPaste:(t.ctrlKey||t.metaKey)&&[67,86].includes(t.which),isSelectAll:(t.ctrlKey||t.metaKey)&&65===t.which,isRestrictedKey:t.shiftKey||t.altKey||t.ctrlKey||t.metaKey,isTab:9===t.which};return e},r=(t,e)=>{let{isArrow:a,isBackspace:r,isNumber:c,isCopyPaste:u,isSelectAll:h,isRestrictedKey:o,isTab:d}=l(e);if(u||h||d)return!0;let f=t.selectionStart;switch((!a||o)&&e.preventDefault(),!0){case r:return n(t,e);case a:return i(t,f,e);case c&&!o:return s(t,f,e);default:return!1}},c=a=>{let s=!0,i=t(a).val(),n=/^\d{2}:\d{2}$/;if(n.test(i)&&/^\d{2}:[0-5]{1}\d$/.test(i)){let[l,r]=i.split(":").map(Number);l>=(parseInt(t(a).data("maxhours"))||24)&&r>0&&(t(a).val(e).focus(),s=!1)}else n.test(i)&&(t(a).val(e).focus(),s=!1);return s},u=(t,e)=>{let a=t.match(/^\d{2}:[0-5]{1}\d$/);return a?a[0]:e};return t(this).attr("max-length",5),c(this),this.each(function(){t(this).val(u(t(this).val(),e)),t(this).on({keydown:function(t){r(this,t)},focus:function(t){this.setSelectionRange(0,0)},"drop dragstart paste copy":function(a){if(clipboardData=a.originalEvent?.clipboardData||a.clipboardData||window.clipboardData,"paste"==a.type){let s=clipboardData?.getData("text")||"";t(this).val(u(s,e)).focus()}else if("copy"==a.type){let i=window.getSelection().toString().replace(/\u200B/g,""),n=u(i,"");if(clipboardData.setData("text/html",n),n)return}a.stopPropagation(),a.preventDefault()},blur:function(t){if(!c(this)){let e=new CustomEvent("invalidTime",{detail:{message:"Invalid time entered"},bubbles:!0,cancelable:!0});this.dispatchEvent(e)}}})})}}(jQuery);